# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2017, hyperledger
# This file is distributed under the same license as the
# hyperledger-fabricdocs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2020.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: hyperledger-fabricdocs master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2020-07-19 19:02+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.8.0\n"

#: ../../source/enable_cc_lifecycle.md:1
msgid "# Enabling the new chaincode lifecycle"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:3
msgid ""
"Users upgrading from v1.4.x to v2.x will have to edit their channel "
"configurations to enable the new lifecycle features. This process "
"involves a series of [channel configuration "
"updates](./config_update.html) the relevant users will have to perform."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:5
msgid ""
"Note that the `Channel` and `Application` "
"[capabilities](./capabilities_concept.html) of your application channels "
"will have to be updated to `V2_0` for the new chaincode lifecycle to "
"work. Check out [Considerations for getting to "
"2.0](./upgrade_to_newest_version.html#chaincode-lifecycle) for more "
"information."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:7
msgid ""
"Updating a channel configuration is, at a high level, a three step "
"process (for each channel):"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:9
msgid "Get the latest channel config"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:10
msgid "Create a modified channel config"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:11
msgid "Create a config update transaction"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:13
msgid ""
"We will be performing these channel configuration updates by leveraging a"
" file called `enable_lifecycle.json`, which contains all of the updates "
"we will be making in the channel configurations. Note that in a "
"production setting it is likely that multiple users would be making these"
" channel update requests. However, for the sake of simplicity, we are "
"presenting all of the updates as how they would appear in a single file."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:15
msgid "## Create `enable_lifecycle.json`"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:17
msgid ""
"Note that in addition to using `enable_lifecycle.json`, this tutorial "
"also uses `jq` to apply the edits to the modified config file. The "
"modified config can also be edited manually (after it has been pulled, "
"translated, and scoped). Check out this [sample channel "
"configuration](./config_update.html#sample-channel-configuration) for "
"reference."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:19
msgid ""
"However, the process described here (using a JSON file and a tool like "
"`jq`) does have the advantage of being scriptable, making it suitable for"
" proposing configuration updates to a large number of channels, and is "
"the recommended process for editing a channel configuration."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:21
msgid ""
"Note that the `enable_lifecycle.json` uses sample values, for example "
"`org1Policies` and the `Org1ExampleCom`, which will be specific to your "
"deployment):"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:23
msgid "``` {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:54
msgid "\"org1Policies\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:52
#: ../../source/enable_cc_lifecycle.md:83
#: ../../source/enable_cc_lifecycle.md:96
msgid "\"Endorsement\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:27
#: ../../source/enable_cc_lifecycle.md:58
#: ../../source/enable_cc_lifecycle.md:89
#: ../../source/enable_cc_lifecycle.md:100
msgid "\"mod_policy\": \"Admins\", \"policy\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:29
#: ../../source/enable_cc_lifecycle.md:60
msgid "\"type\": 1, \"value\": { \"identities\": ["
msgstr ""

#: ../../source/enable_cc_lifecycle.md:37
#: ../../source/enable_cc_lifecycle.md:44
#: ../../source/enable_cc_lifecycle.md:68
#: ../../source/enable_cc_lifecycle.md:75
msgid "{"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:34
#: ../../source/enable_cc_lifecycle.md:65
msgid "\"principal\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:34
msgid "\"msp_identifier\": \"Org1ExampleCom\", \"role\": \"PEER\""
msgstr ""

#: ../../source/enable_cc_lifecycle.md:36
#: ../../source/enable_cc_lifecycle.md:67
msgid "}, \"principal_classification\": \"ROLE\""
msgstr ""

#: ../../source/enable_cc_lifecycle.md:38
#: ../../source/enable_cc_lifecycle.md:46
#: ../../source/enable_cc_lifecycle.md:48
#: ../../source/enable_cc_lifecycle.md:51
#: ../../source/enable_cc_lifecycle.md:54
#: ../../source/enable_cc_lifecycle.md:69
#: ../../source/enable_cc_lifecycle.md:77
#: ../../source/enable_cc_lifecycle.md:79
#: ../../source/enable_cc_lifecycle.md:82
#: ../../source/enable_cc_lifecycle.md:85
#: ../../source/enable_cc_lifecycle.md:95
#: ../../source/enable_cc_lifecycle.md:106
#: ../../source/enable_cc_lifecycle.md:109
#: ../../source/enable_cc_lifecycle.md:123
#: ../../source/enable_cc_lifecycle.md:124
#: ../../source/enable_cc_lifecycle.md:126
msgid "}"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:39
#: ../../source/enable_cc_lifecycle.md:70
msgid "], \"rule\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:47
#: ../../source/enable_cc_lifecycle.md:78
msgid "\"n_out_of\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:42
#: ../../source/enable_cc_lifecycle.md:73
msgid "\"n\": 1, \"rules\": ["
msgstr ""

#: ../../source/enable_cc_lifecycle.md:45
#: ../../source/enable_cc_lifecycle.md:76
msgid "\"signed_by\": 0"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:47
#: ../../source/enable_cc_lifecycle.md:78
msgid "]"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:49
#: ../../source/enable_cc_lifecycle.md:80
msgid "}, \"version\": 0"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:52
#: ../../source/enable_cc_lifecycle.md:83
#: ../../source/enable_cc_lifecycle.md:96
#: ../../source/enable_cc_lifecycle.md:107
msgid "}, \"version\": \"0\""
msgstr ""

#: ../../source/enable_cc_lifecycle.md:55
msgid "},"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:123
msgid "\"org2Policies\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:65
msgid "\"msp_identifier\": \"Org2ExampleCom\", \"role\": \"PEER\""
msgstr ""

#: ../../source/enable_cc_lifecycle.md:86
msgid "}, \"appPolicies\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:91
#: ../../source/enable_cc_lifecycle.md:102
msgid "\"type\": 3, \"value\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:93
#: ../../source/enable_cc_lifecycle.md:104
msgid "\"rule\": \"MAJORITY\", \"sub_policy\": \"Endorsement\""
msgstr ""

#: ../../source/enable_cc_lifecycle.md:98
msgid "}, \"LifecycleEndorsement\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:110
msgid "}, \"acls\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:112
#: ../../source/enable_cc_lifecycle.md:214
msgid "\"_lifecycle/CheckCommitReadiness\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:113
#: ../../source/enable_cc_lifecycle.md:116
#: ../../source/enable_cc_lifecycle.md:215
#: ../../source/enable_cc_lifecycle.md:218
msgid "\"policy_ref\": \"/Channel/Application/Writers\""
msgstr ""

#: ../../source/enable_cc_lifecycle.md:114
#: ../../source/enable_cc_lifecycle.md:216
msgid "}, \"_lifecycle/CommitChaincodeDefinition\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:117
#: ../../source/enable_cc_lifecycle.md:219
msgid "}, \"_lifecycle/QueryChaincodeDefinition\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:119
#: ../../source/enable_cc_lifecycle.md:122
#: ../../source/enable_cc_lifecycle.md:221
#: ../../source/enable_cc_lifecycle.md:224
msgid "\"policy_ref\": \"/Channel/Application/Readers\""
msgstr ""

#: ../../source/enable_cc_lifecycle.md:120
#: ../../source/enable_cc_lifecycle.md:222
msgid "}, \"_lifecycle/QueryChaincodeDefinitions\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:128
msgid ""
"**Note: the \"role\" field of these new policies should say `'PEER'` if "
"[NodeOUs](./msp.html#organizational-units) are enabled for the org, and "
"`'MEMBER'` if they are not.**"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:130
msgid "## Edit the channel configurations"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:132
msgid "### System channel updates"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:134
msgid ""
"Because configuration changes to the system channel to enable the new "
"lifecycle only involve parameters inside the configuration of the peer "
"organizations within the channel configuration, each peer organization "
"being edited will have to sign the relevant channel configuration update."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:136
msgid ""
"However, by default, the system channel can only be edited by system "
"channel admins (typically these are admins of the ordering service "
"organizations and not peer organizations), which means that the "
"configuration updates to the peer organizations in the consortium will "
"have to be proposed by a system channel admin and sent to the relevant "
"peer organization to be signed."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:138
#: ../../source/enable_cc_lifecycle.md:169
msgid "You will need to export the following variables:"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:140
msgid "`CH_NAME`: the name of the system channel being updated."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:141
msgid ""
"`CORE_PEER_LOCALMSPID`: the MSP ID of the organization proposing the "
"channel update. This will be the MSP of one of the ordering service "
"organizations."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:142
#: ../../source/enable_cc_lifecycle.md:174
msgid ""
"`CORE_PEER_MSPCONFIGPATH`: the absolute path to the MSP representing your"
" organization."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:143
msgid ""
"`TLS_ROOT_CA`: the absolute path to the root CA certificate of the "
"organization proposing the system channel update."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:144
#: ../../source/enable_cc_lifecycle.md:176
msgid ""
"`ORDERER_CONTAINER`: the name of an ordering node container. When "
"targeting the ordering service, you can target any particular node in the"
" ordering service. Your requests will be forwarded to the leader "
"automatically."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:145
msgid "`ORGNAME`: the name of the organization you are currently updating."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:146
msgid "`CONSORTIUM_NAME`: the name of the consortium being updated."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:148
#: ../../source/enable_cc_lifecycle.md:178
#: ../../source/enable_cc_lifecycle.md:196
msgid ""
"Once you have set the environment variables, navigate to [Step 1: Pull "
"and translate the config](./config_update.html#step-1-pull-and-translate-"
"the-config)."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:150
#: ../../source/enable_cc_lifecycle.md:180
#: ../../source/enable_cc_lifecycle.md:198
msgid ""
"Then, add the lifecycle organization policy (as listed in "
"`enable_lifecycle.json`) to a file called `modified_config.json` using "
"this command:"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:152
msgid ""
"``` jq -s \".[0] * "
"{\\\"channel_group\\\":{\\\"groups\\\":{\\\"Consortiums\\\":{\\\"groups\\\":"
" {\\\"$CONSORTIUM_NAME\\\": {\\\"groups\\\": {\\\"$ORGNAME\\\": "
"{\\\"policies\\\": .[1].${ORGNAME}Policies}}}}}}}}\" config.json "
"./enable_lifecycle.json > modified_config.json ```"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:156
#: ../../source/enable_cc_lifecycle.md:186
#: ../../source/enable_cc_lifecycle.md:204
#: ../../source/enable_cc_lifecycle.md:237
msgid ""
"Then, follow the steps at [Step 3: Re-encode and submit the "
"config](./config_update.html#step-3-re-encode-and-submit-the-config)."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:158
msgid ""
"As stated above, these changes will have to be proposed by a system "
"channel admin and sent to the relevant peer organization for signature."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:160
msgid "### Application channel updates"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:162
msgid "#### Edit the peer organizations"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:164
msgid ""
"We need to perform a similar set of edits to all of the organizations on "
"all application channels."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:167
msgid ""
"Note that unlike the system channel, peer organizations are able to make "
"configuration update requests to application channels. If you are making "
"a configuration change to your own organization, you will be able to make"
" these changes without needing the signature of other organizations. "
"However, if you are attempting to make a change to a different "
"organization, that organization will have to approve the change."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:171
msgid "`CH_NAME`: the name of the application channel being updated."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:172
msgid "`ORGNAME`: The name of the organization you are currently updating."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:173
msgid "`TLS_ROOT_CA`: the absolute path to the TLS cert of your ordering node."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:175
msgid ""
"`CORE_PEER_LOCALMSPID`: the MSP ID of the organization proposing the "
"channel update. This will be the MSP of one of the peer organizations."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:182
msgid ""
"``` jq -s \".[0] * "
"{\\\"channel_group\\\":{\\\"groups\\\":{\\\"Application\\\": "
"{\\\"groups\\\": {\\\"$ORGNAME\\\": {\\\"policies\\\": "
".[1].${ORGNAME}Policies}}}}}}\" config.json ./enable_lifecycle.json > "
"modified_config.json ```"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:188
msgid "#### Edit the application channels"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:190
msgid ""
"After all of the application channels have been [updated to include V2_0 "
"capabilities](./upgrade_to_newest_version.html#capabilities), endorsement"
" policies for the new chaincode lifecycle must be added to each channel."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:194
msgid ""
"You can set the same environment you set when updating the peer "
"organizations. Note that in this case you will not be updating the "
"configuration of an org in the configuration, so the `ORGNAME` variable "
"will not be used."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:200
msgid ""
"``` jq -s '.[0] * {\"channel_group\":{\"groups\":{\"Application\": "
"{\"policies\": .[1].appPolicies}}}}' config.json ./enable_lifecycle.json "
"> modified_config.json ```"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:206
#: ../../source/enable_cc_lifecycle.md:239
msgid ""
"For this channel update to be approved, the policy for modifying the "
"`Channel/Application` section of the configuration must be satisfied. By "
"default, this is a `MAJORITY` of the peer organizations on the channel."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:208
msgid "#### Edit channel ACLs (optional)"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:210
msgid ""
"The following [Access Control List (ACL)](./access_control.html) in "
"`enable_lifecycle.json` are the default values for the new lifecycle, "
"though you have the option to change them depending on your use case."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:212
msgid "``` \"acls\": {"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:225
msgid "```"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:227
msgid ""
"You can leave the same environment in place as when you previously edited"
" application channels."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:229
msgid ""
"Once you have the environment variables set, navigate to [Step 1: Pull "
"and translate the config](./config_update.html#step-1-pull-and-translate-"
"the-config)."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:231
msgid ""
"Then, add the ACLs (as listed in `enable_lifecycle.json`) and create a "
"file called `modified_config.json` using this command:"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:233
msgid ""
"``` jq -s '.[0] * {\"channel_group\":{\"groups\":{\"Application\": "
"{\"values\": {\"ACLs\": {\"value\": {\"acls\": .[1].acls}}}}}}}' "
"config.json ./enable_lifecycle.json > modified_config.json ```"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:241
msgid "## Enable new lifecycle in `core.yaml`"
msgstr ""

#: ../../source/enable_cc_lifecycle.md:243
msgid ""
"If you follow [the recommended "
"process](./upgrading_your_components.html#overview) for using a tool like"
" `diff` to compare the new version of `core.yaml` packaged with the "
"binaries with your old one, you will not need to add `_lifecycle: enable`"
" to the list of enabled system chaincodes because the new `core.yaml` has"
" added it under `chaincode/system`."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:245
msgid ""
"However, if you are updating your old node YAML file directly, you will "
"have to add `_lifecycle: enable` to the list of enabled system "
"chaincodes."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:247
msgid ""
"For more information about upgrading nodes, check out [Upgrading your "
"components](./upgrading_your_components.html)."
msgstr ""

#: ../../source/enable_cc_lifecycle.md:249
msgid ""
"<!--- Licensed under Creative Commons Attribution 4.0 International "
"License https://creativecommons.org/licenses/by/4.0/ -->"
msgstr ""

